{{- $email := promptStringOnce . "email" "Email address" -}}
# TODO: Refactor to use :promptMultiChoice instead: https://www.chezmoi.io/reference/commands/init/#-promptmultichoice-pairs
{{- $homeOrWork := promptStringOnce . "homeOrWork" "Is this a 'home' or 'work' machine? Choose" -}}
encryption = "age"
[age]
    identity = "~/key.txt"
    # TODO: Think through how to create new 'age' keys when setting up a new machine
    # work, debian, ...
    recipients = ["age1y0e3kxdguvprhc0rrp5f2z3taez7wjzp4d9x9yzzj09guv2js5tqp8cc9t", "age1dhcq4f7ka2uhxyxmmm5nl88tcllu9dct77zdga08pauf5u29qp5q9k5hhj"]
[data]
    email = {{ $email | quote }}
    homeOrWork = {{ $homeOrWork | quote }}
[merge]
    command = "nvim"
    args = ["-d", "{{ "{{" }}.Destination {{ "}}" }}", "{{ "{{" }} .Source {{ "}}" }}", "{{ "{{" }}.Target {{ "}}" }}"]
